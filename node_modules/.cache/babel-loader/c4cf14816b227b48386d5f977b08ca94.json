{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hyera/Documents/localhost/react-firebase/React-firebase-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hyera/Documents/localhost/react-firebase/React-firebase-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hyera/Documents/localhost/react-firebase/React-firebase-test/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';export default function usePromise(promiseCreator,deps){// 로딩중 / 완료 / 실패에 대한 상태 관리\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),resolved=_useState4[0],setResolved=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var process=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _resolved;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return promiseCreator();case 4:_resolved=_context.sent;setResolved(_resolved);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);setError(_context.t0);case 11:setLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function process(){return _ref.apply(this,arguments);};}();process();// eslint-disable-next-line react-hooks/exhaustive-deps\n},deps);return[loading,resolved,error];}","map":{"version":3,"sources":["/Users/hyera/Documents/localhost/react-firebase/React-firebase-test/src/pages/news/usePromise.js"],"names":["useState","useEffect","usePromise","promiseCreator","deps","loading","setLoading","resolved","setResolved","error","setError","process"],"mappings":"2iBAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CAEA,cAAe,SAASC,CAAAA,UAAT,CAAoBC,cAApB,CAAoCC,IAApC,CAA0C,CACxD;AACA,cAA8BJ,QAAQ,CAAC,KAAD,CAAtC,wCAAOK,OAAP,eAAgBC,UAAhB,eACA,eAAgCN,QAAQ,CAAC,IAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAA0BR,QAAQ,CAAC,IAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eAEAT,SAAS,CAAC,UAAM,CACf,GAAMU,CAAAA,OAAO,0FAAG,iJACfL,UAAU,CAAC,IAAD,CAAV,CADe,sCAGSH,CAAAA,cAAc,EAHvB,QAGRI,SAHQ,eAIdC,WAAW,CAACD,SAAD,CAAX,CAJc,+EAMdG,QAAQ,aAAR,CANc,QAQfJ,UAAU,CAAC,KAAD,CAAV,CARe,oEAAH,kBAAPK,CAAAA,OAAO,0CAAb,CAUAA,OAAO,GACP;AACA,CAbQ,CAaNP,IAbM,CAAT,CAeA,MAAO,CAACC,OAAD,CAAUE,QAAV,CAAoBE,KAApB,CAAP,CACA","sourcesContent":["import { useState, useEffect } from 'react';\n\nexport default function usePromise(promiseCreator, deps) {\n\t// 로딩중 / 완료 / 실패에 대한 상태 관리\n\tconst [loading, setLoading] = useState(false);\n\tconst [resolved, setResolved] = useState(null);\n\tconst [error, setError] = useState(null);\n\n\tuseEffect(() => {\n\t\tconst process = async () => {\n\t\t\tsetLoading(true);\n\t\t\ttry {\n\t\t\t\tconst resolved = await promiseCreator();\n\t\t\t\tsetResolved(resolved);\n\t\t\t} catch (e) {\n\t\t\t\tsetError(e);\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t};\n\t\tprocess();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, deps);\n\n\treturn [loading, resolved, error];\n}\n"]},"metadata":{},"sourceType":"module"}