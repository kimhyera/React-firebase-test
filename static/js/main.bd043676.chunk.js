(this["webpackJsonpfirebase-test"]=this["webpackJsonpfirebase-test"]||[]).push([[0],{53:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){},75:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(25),s=c.n(a),i=c(13),r=c(5),l=(c(53),c(0)),o=function(e){var t=e.authService,c=Object(n.useRef)(null),a=Object(n.useRef)(null);Object(n.useEffect)((function(){}),[]);return Object(l.jsx)("header",{className:"header",children:Object(l.jsx)("div",{className:"wrapper",children:Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsxs)("ul",{className:"nav",children:[Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.b,{to:"/main",className:"nav-link",children:"main"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.b,{to:"/shop",className:"nav-link",children:"shop"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.b,{to:"/crud",className:"nav-link",children:"Crud"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.b,{to:"/board",className:"nav-link",children:"board"})}),Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(i.b,{to:"/news",className:"nav-link",children:"news"})})]}),Object(l.jsxs)("div",{className:"membership ml-auto",children:[Object(l.jsx)(i.b,{to:"/join",className:" button button-primary",children:"\ud68c\uc6d0\uac00\uc785"}),Object(l.jsx)(i.b,{to:"/login",ref:a,className:"ml-3 button button-primary ",children:"\ub85c\uadf8\uc778"}),0==t.state.login?Object(l.jsx)("button",{className:"ml-3 button button-primary",onClick:function(){t.logout(),t.state.login=!0,console.log(c,a),alert("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},ref:c,children:"Logout"}):""]})]})})})},j=(c(62),function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("div",{className:"wrapper",children:Object(l.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," rarara "]})})})}),u=(c(63),c(10)),b=c(7),d=c(19),h=c.n(d),m=h.a.initializeApp({apiKey:"AIzaSyDCenrpuRYRyMMd0lXFuEMq0FH0W1m1en0",authDomain:"shop-toy-project.firebaseapp.com",databaseURL:"https://shop-toy-project-default-rtdb.firebaseio.com",projectId:"shop-toy-project",storageBucket:"shop-toy-project.appspot.com",messagingSenderId:"284901181517",appId:"1:284901181517:web:d623339d1cf647f06f7404"}),O=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1],s=m.database().ref("/goods");return Object(n.useEffect)((function(){s.on("value",(function(e){var t=e.val(),c=[];for(var n in t)c.push(Object(u.a)(Object(u.a)({},t[n]),{},{id:n}));a(c)}))}),[]),Object(l.jsxs)("div",{className:"home wrapper",children:[Object(l.jsx)("section",{className:"tab_section",children:Object(l.jsx)("div",{className:"tab_wrap",children:Object(l.jsxs)("ul",{className:"d-flex",children:[Object(l.jsx)("li",{children:Object(l.jsx)("button",{children:"\ube60\ub978\ubc30\ub2ec"})}),Object(l.jsx)("li",{className:"ml-4",children:Object(l.jsx)("button",{children:"\ubc30\ub2ec"})}),Object(l.jsx)("li",{className:"ml-4",children:Object(l.jsx)("button",{children:"\ud3ec\uc7a5"})})]})})}),Object(l.jsxs)("section",{className:"sale_section mt-4",children:[Object(l.jsx)("h2",{className:"h4",children:"\uac00\uc7a5\uc778\uae30\uc788\ub294 \ubaa8\ubaa8\ubaa8 "}),Object(l.jsx)("ul",{className:"sale_list d-flex",children:c.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("div",{className:"thumb"}),Object(l.jsx)("span",{children:"\uc21c\uc704 1"}),Object(l.jsxs)("div",{className:"txt_box",children:[Object(l.jsx)("p",{children:e.sGoodsName}),Object(l.jsxs)("p",{children:[" \uac00\uaca9 ",e.iSellPrice," \uc6d0"]}),Object(l.jsxs)("p",{children:["\ub204\uc801\ud310\ub9e4\ub7c9 ",e.iaccumulate," \uac1c "]})]})]},e.id)}))})]})]})},x=function(){return Object(l.jsx)("div",{className:"main wrapper",children:Object(l.jsx)("section",{className:"sale_section",children:"main"})})},f=function(){return Object(l.jsx)("table",{className:"table",children:Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"\uc0c1\ud488\uba85"}),Object(l.jsx)("th",{children:"\uc0c1\ud488\uc0c1\ud0dc"}),Object(l.jsx)("th",{children:"\ub9e4\uc7a5\ud310\ub9e4\uac00"}),Object(l.jsx)("th",{})]})})})},v=c(20),p=c.n(v),N=c(26),g=(c(75),function(e){var t=e.authService,c=Object(r.f)(),a=function(e){c.push({pathname:"/main",state:{id:e}})},s=function(){t.logout()},i=function(e){t.state.login=!0,console.log(t.state.login),t.socialLogin(e.currentTarget.name).then((function(e){return a(e.user.uid)}))};Object(n.useEffect)((function(){t.onAuthChange((function(e){e&&a(e.uid)}))}));var o=Object(n.useState)(""),j=Object(b.a)(o,2),u=j[0],d=j[1],h=Object(n.useState)(""),m=Object(b.a)(h,2),O=m[0],x=m[1],f=Object(n.useState)(""),v=Object(b.a)(f,2),g=v[0],S=v[1],y=function(e){var t=e.target,c=t.name,n=t.value;"email"===c?d(n):"password"===c&&x(n)},k=function(){var e=Object(N.a)(p.a.mark((function e(c){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,e.next=4,t.createUserWithEmailAndPassword(u,O);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),S(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("section",{class:"login-wrap",children:[Object(l.jsxs)("section",{className:"login ",children:[Object(l.jsx)("h5",{className:"mb-3 text-center h3 py-4",children:"Login"}),Object(l.jsx)("h5",{className:"mb-3 text-center h5 mt-4",children:"SNS \uacc4\uc815"}),Object(l.jsxs)("ul",{className:"list",children:[Object(l.jsx)("li",{className:"item",children:Object(l.jsx)("button",{onClick:i,name:"Google",children:"Google"})}),Object(l.jsx)("li",{className:"item",children:Object(l.jsx)("button",{onClick:i,name:"Github",children:"Github"})})]}),Object(l.jsx)("h5",{className:"mb-3 text-center h5 mt-4",children:"\uc77c\ubc18 \uacc4\uc815"}),Object(l.jsxs)("form",{onSubmit:k,className:"join-form",children:[Object(l.jsx)("div",{children:Object(l.jsx)("input",{className:"form-input",name:"email",type:"text",placeholder:"Email",required:!0,value:u,onChange:y})}),Object(l.jsx)("div",{className:"mt-2",children:Object(l.jsx)("input",{className:"form-input",name:"password",type:"password",placeholder:"Password",required:!0,value:O,onChange:y})}),Object(l.jsx)("div",{class:"text-center",children:Object(l.jsx)("input",{type:"submit",className:"button button-primary mt-2",value:"\ud68c\uc6d0\uac00\uc785"})}),g]})]}),Object(l.jsx)("footer",{className:"footer",children:s&&Object(l.jsx)("button",{className:"button button-praimary ml-3",onClick:s,children:"\ub85c\uadf8\uc544\uc6c3"})})]})}),S=[{name:"all",text:"\uc804\uccb4\ubcf4\uae30"},{name:"business",text:"\ube44\uc988\ub2c8\uc2a4"},{name:"entertainment",text:"\uc5d4\ud130\ud14c\uc778\uba3c\ud2b8"},{name:"health",text:"\uac74\uac15"},{name:"science",text:"\uacfc\ud559"},{name:"sports",text:"\uc2a4\ud3ec\uce20"},{name:"technology",text:"\uae30\uc220"}],y=function(e){e.onSelect;return Object(l.jsx)("div",{children:S.map((function(e){return Object(l.jsx)(i.c,{className:"mr-4",activeClassName:"active",exact:"all"===e.name,to:"all"===e.name?"/":"/".concat(e.name),children:e.text},e.name)}))})},k=function(e){var t=e.article,c=t.title,n=t.description,a=t.url,s=t.urlToImage;return Object(l.jsxs)("div",{className:"col-3",children:[s&&Object(l.jsx)("div",{className:"thumbnail",children:Object(l.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:Object(l.jsx)("img",{src:s,alt:"thumbnail"})})}),Object(l.jsxs)("div",{className:"contents",children:[Object(l.jsx)("h2",{children:Object(l.jsx)("a",{href:a,target:"_blank",rel:"noopener noreferrer",children:c})}),Object(l.jsx)("p",{children:n})]})]})},w=c(42),C=c.n(w);var G=function(e){var t=e.category,c=function(e,t){var c=Object(n.useState)(!1),a=Object(b.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)(null),l=Object(b.a)(r,2),o=l[0],j=l[1],u=Object(n.useState)(null),d=Object(b.a)(u,2),h=d[0],m=d[1];return Object(n.useEffect)((function(){!function(){var t=Object(N.a)(p.a.mark((function t(){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),t.prev=1,t.next=4,e();case 4:c=t.sent,j(c),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),m(t.t0);case 11:i(!1);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()()}),t),[s,o,h]}((function(){var e="all"===t?"":"&category=".concat(t);return C.a.get("https://newsapi.org/v2/top-headlines?country=kr".concat(e,"&apiKey=0a8c4202385d4ec1bb93b7e277b3c51f"))}),[t]),a=Object(b.a)(c,3),s=a[0],i=a[1],r=a[2];if(s)return Object(l.jsx)("div",{children:"\ub300\uae30\uc911..."});if(!i)return null;if(r)return Object(l.jsx)("div",{children:"\uc5d0\ub7ec \ubc1c\uc0dd!"});var o=i.data.articles;return Object(l.jsx)("div",{className:"row",children:o.map((function(e){return Object(l.jsx)(k,{article:e},e.url)}))})},P=function(e){e.match;return Object(l.jsxs)("div",{className:"wrapper",children:[Object(l.jsx)(y,{}),Object(l.jsx)(G,{category:"all"})]})},E=c(22);var I=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),c=t[0],a=t[1],s=m.database().ref("/goods");Object(n.useEffect)((function(){s.on("value",(function(e){var t=e.val(),c=[];for(var n in t)c.push(Object(u.a)(Object(u.a)({},t[n]),{},{id:n}));a(c)}))}),[]),console.log(c);var i=Object(n.useRef)(c.length),r=Object(n.useState)({sGoodsName:"",iSellPrice:""}),o=Object(b.a)(r,2),j=o[0],d=o[1],h=function(e){d(Object(u.a)(Object(u.a)({},j),{},Object(E.a)({},e.target.name,e.target.value)))},O=Object(n.useState)({id:"",sGoodsName:"",iSellPrice:""}),x=Object(b.a)(O,2),f=x[0],v=x[1],p=function(e){v(Object(u.a)(Object(u.a)({},f),{},Object(E.a)({},e.target.name,e.target.value)))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"text-center py-5",children:Object(l.jsx)("h2",{children:"React Firebase Database CRUD"})}),Object(l.jsxs)("div",{className:"row container",children:[Object(l.jsxs)("div",{className:"col-4 ",children:[Object(l.jsx)("h4",{className:"f3 mb-4",children:"\uc785\ub825\ud3fc"}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{name:"sGoodsName",value:j.sGoodsName,placeholder:"\uc0c1\ud488\uba85",onChange:h})}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{name:"iSellPrice",value:j.iSellPrice,placeholder:"\ud310\ub9e4\uac00\uaca9",onChange:h})}),Object(l.jsx)("button",{onClick:function(){var e={id:i.current,sGoodsName:j.sGoodsName,iSellPrice:Number(j.iSellPrice),likeCount:0,sSellStatus:!0,iaccumulate:0};a(c.concat(e)),s.push().set(e).then((function(){return console.log("Data updated.")})),d({sGoodsName:"",iSellPrice:""}),i.current+=1},className:"button mt-4",children:"\ub4f1\ub85d"})]}),Object(l.jsxs)("div",{className:"col-8",children:[Object(l.jsx)("h4",{className:"f3 mb-4",children:"\uc0c1\ud488\ub9ac\uc2a4\ud2b8"}),Object(l.jsx)("ul",{className:"goods_list",children:c.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsx)("span",{className:"title mr-2 text-primary",onClick:function(t){return function(e,t){e.target.classList.toggle("active")}(t,e.id)},children:e.sGoodsName}),Object(l.jsxs)("span",{className:"mr-4",children:["\uac00\uaca9: ",e.iSellPrice]}),Object(l.jsxs)("button",{onClick:function(){return t=e.id,void a(c.map((function(e){return e.id===t?Object(u.a)(Object(u.a)({},e),{},{likeCount:e.likeCount+=1}):e})));var t},children:["\u2764 ",e.likeCount]}),Object(l.jsx)("button",{onClick:function(){return function(e){var t=e;m.database().ref("/goods/".concat(e)).on("value",(function(e){var c=e.val();console.log("data",c),v(Object(u.a)(Object(u.a)({},f),{},{id:t,sGoodsName:c.sGoodsName,iSellPrice:c.iSellPrice}))}))}(e.id)},className:"button sm ml-4",children:"\uc218\uc815"}),Object(l.jsx)("button",{onClick:function(){return function(e){console.log(e);var t=c.filter((function(t){return t.id!==e}));console.log(t),a(t),m.database().ref("/goods/".concat(e)).remove()}(e.id)},className:"button sm ml-1",children:"\uc0ad\uc81c"})]},e.id)}))}),Object(l.jsxs)("div",{className:"mt-4",children:[Object(l.jsx)("h4",{className:"f3 mb-2",children:"\uc218\uc815\ud3fc"}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{name:"sGoodsName",value:f.sGoodsName,placeholder:"\uc0c1\ud488\uba85",onChange:p})}),Object(l.jsx)("div",{children:Object(l.jsx)("input",{name:"iSellPrice",value:f.iSellPrice,placeholder:"\ud310\ub9e4\uac00\uaca9",onChange:p})}),Object(l.jsx)("button",{onClick:function(){return e=f.id,void m.database().ref("/goods/".concat(e)).update(f);var e},className:"button mt-4",children:"\uc218\uc815\uc644\ub8cc"})]})]})]})]})};function R(e){e.store;var t=e.authService;return Object(l.jsxs)("div",{children:[Object(l.jsxs)(i.a,{basename:"/React-firebase-test",children:[Object(l.jsx)(o,{authService:t}),Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{path:["/","/main"],exact:!0,children:Object(l.jsx)("div",{className:"contents",children:Object(l.jsx)(x,{})})}),Object(l.jsx)(r.a,{path:"/shop",children:Object(l.jsx)("div",{className:"contents",children:Object(l.jsx)(O,{})})}),Object(l.jsx)(r.a,{path:"/crud",children:Object(l.jsx)("div",{className:"contents",children:Object(l.jsx)(I,{})})}),Object(l.jsx)(r.a,{path:"/board",children:Object(l.jsx)("div",{className:"contents",children:Object(l.jsx)(f,{})})}),Object(l.jsx)(r.a,{path:"/login",children:Object(l.jsx)("div",{className:"contents",children:Object(l.jsx)(g,{authService:t})})}),Object(l.jsx)(r.a,{path:"/:category?",children:Object(l.jsx)("div",{className:"contents",children:Object(l.jsx)(P,{})})})]})]}),Object(l.jsx)(j,{})]})}var _=c(43),A=c(44),L=c(48),D=c(47),F=function(e){Object(L.a)(c,e);var t=Object(D.a)(c);function c(){var e;Object(_.a)(this,c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={login:!1},e}return Object(A.a)(c,[{key:"socialLogin",value:function(e){var t=new(h.a.auth["".concat(e,"AuthProvider")]);return m.auth().signInWithPopup(t)}},{key:"login",value:function(){}},{key:"logout",value:function(){h.a.auth().signOut(),this.setState({login:!1}),console.log(this.state.login)}},{key:"onAuthChange",value:function(e){h.a.auth().onAuthStateChanged((function(t){e(t)}))}}]),c}(n.Component),q=c(27),K=c(46),M=[{iSellPrice:100,iaccumulate:750,id:0,likeCount:0,sGoodsName:"\ubd88\uace0\uae30 \ud53c\uc790",sSellStatus:1},{iSellPrice:100,iaccumulate:750,id:0,likeCount:2,sGoodsName:"\ubd88\uace0\uae30 \ud53c\uc7902",sSellStatus:1}];var U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIKE":return console.log("\uc88b\uc544\uc694!!");default:return e}},W={login:!1};var z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{login:!0};default:return e}},B=Object(q.a)({goods:U,user:z}),J=(c(95),c(96),Object(q.b)(B));console.log(J.getState());var T=new F;s.a.render(Object(l.jsx)(K.a,{store:J,children:Object(l.jsx)(R,{authService:T})}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.bd043676.chunk.js.map